{% extends 'base.html' %}
{% load bootstrap4 %}
{% load format_mask_assetapp %}

{% block content %}

    {% load static %}
    {% block extrahead %}
        <link rel="stylesheet" type="text/css" href="{% static 'css/masterinfo.css' %}">
        <link rel="stylesheet" type="text/css" href="{% static 'css/assetapp.css' %}">
    {% endblock %}

    <div style="margin: 2rem 2rem">
        <div style="margin: 1rem auto;">
            <div style="display: block; margin-bottom: 1rem;">
                <a href="{% url 'dashboardapp:detail' pk=dashboard_pk %}" class="btn btn-info btn-sm">
                    <span class="material-icons">show_chart</span>
                </a>
                <a href="{% url 'householdbookapp:householdbook_home' %}" class="btn btn-success btn-sm">
                    <span class="material-icons">home</span>
                </a>
            </div>
        </div>
        <div style="display: block; margin: 1rem auto; width: 100%; height: 40rem; color: #FFFFFF;">
            {% include 'householdbookapp/income_expense_grid_chart.html' %}
        </div>

        {% if 1 %}
        <div>
            <div style="display: block;">
                <div style="display: block;">
                    <h3 style="display: inline-block; margin: 0 1rem 1rem 0; vertical-align: top; color: #FFFFFF;">Monthly Records</h3>
                    <a href="{% url 'householdbookapp:income_expense_create' %}"
                       class="btn btn-light btn-sm" style="display: inline-block; vertical-align: top;">
                        <span class="material-icons" style="vertical-align: center;">add</span>
                    </a>
                    <div style="display: inline-block; vertical-align: top;">
                        {% include 'householdbookapp/income_expense_excel_download.html' %}
                    </div>
                    <a href="{% url 'householdbookapp:income_expense_excel_upload_button' %}"
                       class="btn btn-warning btn" style="display: inline-block; vertical-align: top;">
                        Upload
                    </a>
                </div>
                <div style="display: block; width: {{ table_width_px }};">
                    <table class="asset_transaction_table">
                        <colgroup>
                            <col style="width: 40px;">
                            <col style="width: 20px;">
                            <col style="width: 70px;">
                            <col style="width: 110px;">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                            <col style="width: {{ amount_column_width_px }};">
                        </colgroup>
                        <tr>
                            <th class="asset_transaction_table_th" style="background-color: #007D8A;">Edit</th>
                            <th style="align-content: center; border: 1px solid black; background-color: #007D8A; color: #FA0067;">
                                {% include 'householdbookapp/income_expense_delete_all.html' with dashboard_pk=dashboard_pk %}
                            </th>
{#                            <th colspan="2" class="asset_transaction_table_th" style="background-color: #007D8A;">#}
{#                                <h7 style="display: inline-block; vertical-align: center;">Edit</h7>#}
{#                                <div style="display: inline-block; vertical-align: bottom;">#}
{#                                    {% include 'householdbookapp/income_expense_delete_all.html' with dashboard_pk=dashboard_pk %}#}
{#                                </div>#}
{#                            </th>#}
                            <th class="asset_transaction_table_th" style="background-color: #007D8A;">Period</th>
                            <th class="asset_transaction_table_th" style="background-color: #007D8A;">Savings Rate</th>
                            <th class="asset_transaction_table_th" style="background-color: #007D8A;">Net Saving</th>
                            <th class="asset_transaction_table_th" style="background-color: #068CD6;">Total Income</th>
                            <th class="asset_transaction_table_th" style="background-color: #068CD6;">Labor</th>
                            <th class="asset_transaction_table_th" style="background-color: #068CD6;">Capital</th>
                            <th class="asset_transaction_table_th" style="background-color: #068CD6;">ETC</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Total Expense</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Housing Comm.</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Living</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Grocery</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Shopping</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Leisure</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Health</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Largess</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Transport.</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Alcohol</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Education</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Car</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Financial</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">Love Aff.</th>
                            <th class="asset_transaction_table_th" style="background-color: #C65911;">ETC</th>
                        </tr>

{#                        {% include 'householdbookapp/income_expense_tabular_input.html' %}#}

                        {% if queryset_my_income_expenses %}
                            {% for income_expense in queryset_my_income_expenses %}
                                <tr>
                                    <td class= "asset_transaction_table_td_center">
                                        <a href="{% url 'householdbookapp:income_expense_update' pk=income_expense.pk %}" style="color: #FFFFFF;">
                                            <span class="material-icons">edit</span>
                                        </a>
                                    </td>
                                    <td class= "asset_transaction_table_td_center">
                                        <a href="{% url 'householdbookapp:income_expense_delete' pk=income_expense.pk %}" style="text-decoration: none; color: #FA0067; font-weight: bold;">
                                            X
                                        </a>
                                    </td>
                                    <td class= "asset_transaction_table_td_center" style="background-color: #007D8A;">{{ income_expense.period_name }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.monthly_savings_rate|percentage_rate_format }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.total_savings_amount|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center" style="background-color: #068CD6;">{{ income_expense.total_income_amount|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.income_labor|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.income_capital|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.income_etc|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center" style="background-color: #C65911;">{{ income_expense.total_expense_amount|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_housing_communication|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_living|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_grocery|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_shopping|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_leisure|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_health|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_largess|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_transportation|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_alcohol|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_education|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_car|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_financial|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_love_affair|currency_krw }}</td>
                                    <td class= "asset_transaction_table_td_center">{{ income_expense.expense_etc|currency_krw }}</td>
                                </tr>
                            {% endfor %}
                        {% endif %}
                    </table>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
{% endblock %}